<div class="container mt-4">
  <div *ngIf="product" class="border p-4 rounded">
    <h1 class="text-center">{{ product.name }}</h1>

    <div class="image-container mx-auto mb-3" [ngClass]="{'sold-out-card': product.quantity === 0}">
      <app-image-carousel [images]="product.images || []"></app-image-carousel>
    </div>
    <p>{{ product.description }}</p>
    <div class="price-container">
      <strong>Price:</strong>
      <ng-container *ngIf="product.quantity > 0; else soldOutPrice">
        {{ product.price | currency:'EUR':'symbol' }}
      </ng-container>
      <ng-template #soldOutPrice>
        <span class="original-price-strikethrough">{{ product.price | currency:'EUR':'symbol' }}</span>
        <span class="sold-out-label">Sold Out</span>
      </ng-template>
    </div>
    <p><strong>Quantity:</strong> {{ product?.quantity }}</p>

    <button *ngIf="product.isProductOwner && isLoggedIn" class="btn btn-success" (click)="goToUpdateProduct(product.productId)">
      Manage Product
    </button>

    <button *ngIf="!product.isProductOwner && isLoggedIn" class="btn btn-primary" [disabled]="product.quantity === 0">
      Buy
    </button>
    <p *ngIf="!isLoggedIn" class="text-muted mt-2">Please log in to buy this product.</p>
  </div>
</div>
